# Specification: History Tracking and Favorites

## Overview
This track implements the persistence layer for Sea Otter. It ensures that workouts generated by the engine can be saved, reviewed in a history log, and marked as favorites for future reference.

## User Stories
*   As a swimmer, I want to save a workout I just generated so I can refer back to it later.
*   As a swimmer, I want to see a list of my past workouts (History).
*   As a swimmer, I want to "favorite" a workout so I can quickly find my most effective sessions.
*   As a swimmer, I want my data to persist across browser refreshes.

## Functional Requirements
*   **Workout Persistence:** Save the full `Workout` object (as defined in `types.ts`) to `localStorage`.
*   **History Management:**
    *   Add new workouts to a chronological history list.
    *   Support deleting workouts from history.
*   **Favorites Management:**
    *   Toggle "favorite" status on any workout.
    *   Retrieve a filtered list of only favorite workouts.
*   **Reactive State:** Use Svelte stores to make history and favorites reactive within the Svelte components.
*   **Data Integrity:** Use the previously defined `Zod` schemas to validate data when reading from `localStorage`.

## Technical Constraints
*   **Storage:** Use `localStorage` for simplicity in the MVP.
*   **Validation:** All data read from `localStorage` must be validated against `WorkoutSchema`.
*   **Svelte Integration:** Stores should be defined in `src/lib/stores/`.

## Acceptance Criteria
*   Generated workouts can be successfully saved to `localStorage`.
*   The history list accurately reflects all saved workouts.
*   "Favorite" status is preserved across page reloads.
*   Deleting a workout correctly removes it from both the store and `localStorage`.
*   Unit tests verify the persistence logic and store behavior.
